---
import Header from './Header.astro';
import Footer from './Footer.astro';

export interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/assets/mr-logo.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content="MR Roma ofrece experiencia para potenciar tu talento tecnológico con talleres, mentorías y asesorías." />
    <meta name="keywords" content="tecnología, negocio, talleres, mentorías, asesorías, MR Roma" />
    <meta name="author" content="MR Roma" />
    
    <!-- Open Graph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content="MR Roma - Alineamos la tecnología con el negocio para generar un impacto real." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content="MR Roma - Alineamos la tecnología con el negocio para generar un impacto real." />
    
    <title>{title}</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  </head>
  <body>
    <Header />
    <slot />
    <Footer />
  </body>
</html>

<style is:global>
  /* Reset and Base Styles */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  /* Remove transitions ONLY from hero title elements */
  .hero-title,
  .hero-title *,
  .hero-title-main,
  .hero-title-subtitle {
    transition: none !important;
    animation: none !important;
    transform-style: flat !important;
    backface-visibility: hidden !important;
    perspective: none !important;
  }

  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    color: #000000;
    background-color: transparent;
    overflow-x: hidden;
  }

  /* Container */
  .container {
    max-width: 80%;
    margin: 0 auto;
    padding: 0 2rem;
  }

  /* Typography */
  h1, h2, h3 {
    font-weight: 900;
    letter-spacing: -0.02em;
  }

  p {
    font-weight: 300;
    font-size: 1.125rem;
  }

  /* Responsive */
  @media (min-width: 1400px) {
    .container {
      max-width: 80%;
    }
  }

  @media (max-width: 1399px) and (min-width: 1200px) {
    .container {
      max-width: 85%;
    }
  }

  @media (max-width: 1199px) and (min-width: 768px) {
    .container {
      max-width: 90%;
    }
  }

  @media (max-width: 767px) {
    .container {
      max-width: 95%;
      padding: 0 1.5rem;
    }
  }

  @media (max-width: 480px) {
    .container {
      max-width: 100%;
      padding: 0 1rem;
    }
  }

  /* Scroll Progress Bar */
  .scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: #000000;
    z-index: 1000;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
</style>

<script>
  // Global scroll progress bar handler
  document.addEventListener('DOMContentLoaded', function() {
    const scrollProgress = document.getElementById('scrollProgress');
    
    if (scrollProgress) {
      let ticking = false;
      const throttledScrollHandler = function() {
        if (!ticking) {
          requestAnimationFrame(() => {
            const scrollY = window.scrollY;
            const windowHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (windowHeight > 0) ? Math.min((scrollY / windowHeight) * 100, 100) : 0;
            
            scrollProgress.style.width = scrollPercent + '%';
            ticking = false;
          });
          ticking = true;
        }
      };
      
      window.addEventListener('scroll', throttledScrollHandler);
    }
  });
</script>
